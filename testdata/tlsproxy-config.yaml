acceptTOS: true
email: "test@example.com"
httpAddr: ":80"
tlsAddr: ":443"
cacheDir: "/tmp/data"
ech:
  publicName: www.example.com
  endpoint: https://www.example.com/.ech
  interval: 11h13m
oidc:
  - name: "mock-oidc"
    authorizationEndpoint: "http://mock-oidc-server.example.com:8080/authorization"
    tokenEndpoint: "http://mock-oidc-server.example.com:8080/token"
    redirectUrl: "https://www.example.com/redirect"
    clientId: "CLIENTID"
    clientSecret: "CLIENTSECRET"
    domain: "example.com"
backends:
  - serverNames:
      - "www.example.com"
    mode: "local"
    documentRoot: "/html"
    exportJwks: "/jwks"
    sso:
      provider: "mock-oidc"
      rules:
        - paths: [/foo]
  - serverNames:
      - "photos.example.com"
    mode: "http"
    addresses:
      - "photos-backend:8080"
  - serverNames:
      - "c2fmzq.org"
    mode: "local"
    documentRoot: "/c2fmzq.org"
  - serverNames:
      - "ssh.example.com"
    mode: "local"
    documentRoot: "/sshterm"
    sso:
      provider: "mock-oidc"
  - serverNames:
      - "mock-backend.example.com"
    mode: "https"
    addresses:
      - "mock-backend-internal:8443"
    insecureSkipVerify: true
    sso:
      provider: "mock-oidc"
      generateIdTokens: true
sshCertificateAuthorities:
  - name: "TEST SSH CA"
    keyType: ecdsa-p256
    publicKeyEndpoint: https://ssh.example.com/ssh/ca
    certificateEndpoint: https://ssh.example.com/ssh/cert
webSockets:
  - endpoint: "wss://ssh.example.com/ws"
    address: "mock-ssh-server.example.com:2222"
